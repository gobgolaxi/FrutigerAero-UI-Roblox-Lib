-- Frutiger Aero UI Library V2
local Library = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

-- === –ù–ê–°–¢–†–û–ô–ö–ò –¢–ï–ú ===
local Themes = {
	Light = {
		WindowStart = Color3.fromRGB(240, 248, 255),
		WindowEnd = Color3.fromRGB(176, 224, 230),
		HeaderStart = Color3.fromRGB(0, 191, 255),
		HeaderEnd = Color3.fromRGB(0, 100, 200),
		ElementBg = Color3.fromRGB(255, 255, 255),
		Text = Color3.fromRGB(20, 20, 20),
		Accent = Color3.fromRGB(50, 205, 50), -- Lime Green
		Stroke = Color3.fromRGB(100, 150, 200),
		GlassTransparency = 0.2
	},
	Dark = {
		WindowStart = Color3.fromRGB(45, 45, 50),
		WindowEnd = Color3.fromRGB(25, 25, 30),
		HeaderStart = Color3.fromRGB(0, 120, 215), -- Deep Blue
		HeaderEnd = Color3.fromRGB(0, 60, 120),
		ElementBg = Color3.fromRGB(60, 60, 65),
		Text = Color3.fromRGB(240, 240, 240),
		Accent = Color3.fromRGB(0, 255, 255), -- Cyan Neon
		Stroke = Color3.fromRGB(80, 80, 90),
		GlassTransparency = 0.15
	},
	Purple = {
		WindowStart = Color3.fromRGB(230, 230, 250),
		WindowEnd = Color3.fromRGB(216, 191, 216),
		HeaderStart = Color3.fromRGB(147, 112, 219),
		HeaderEnd = Color3.fromRGB(102, 51, 153),
		ElementBg = Color3.fromRGB(255, 255, 255),
		Text = Color3.fromRGB(20, 20, 20),
		Accent = Color3.fromRGB(186, 85, 211), -- Medium Orchid
		Stroke = Color3.fromRGB(180, 160, 220),
		GlassTransparency = 0.15
	}
}

-- –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞ (–ø–æ –¥–µ—Ñ–æ–ª—Ç—É Light)
local CurrentTheme = Themes.Light
local ThemeList = {"Light", "Dark", "Purple"}
local CurrentThemeName = "Light"

-- –•–µ–ª–ø–µ—Ä –¥–ª—è –≥–ª—è–Ω—Ü–∞
local function AddGloss(instance)
	local Gloss = Instance.new("Frame")
	Gloss.Name = "Gloss"
	Gloss.Size = UDim2.new(1, 0, 0.5, 0)
	Gloss.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Gloss.BackgroundTransparency = 0.85
	Gloss.BorderSizePixel = 0
	Gloss.ZIndex = instance.ZIndex + 1
	Gloss.Parent = instance
	
	local Corner = instance:FindFirstChildWhichIsA("UICorner")
	if Corner then
		local NewCorner = Corner:Clone()
		NewCorner.Parent = Gloss
	end
end

-- –•–µ–ª–ø–µ—Ä –¥–ª—è –¥—Ä–∞–≥–∞
local function MakeDraggable(topbarobject, object)
	local Dragging = nil
	local DragInput = nil
	local DragStart = nil
	local StartPosition = nil

	topbarobject.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			Dragging = true
			DragStart = input.Position
			StartPosition = object.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)

	topbarobject.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			DragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == DragInput and Dragging then
			local Delta = input.Position - DragStart
			object.Position = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
		end
	end)
end

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–Ω–∏–∑—É —Å –∞–≤—Ç–æ-—à–∏—Ä–∏–Ω–æ–π
function Library:Notify(text)
	local ScreenGui = game.CoreGui:FindFirstChild("AeroLib") or game.Players.LocalPlayer.PlayerGui:FindFirstChild("AeroLib")
	if not ScreenGui then return end
	
	-- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —à–∏—Ä–∏–Ω—É –ø–æ —Ç–µ–∫—Å—Ç—É
	local tempLabel = Instance.new("TextLabel")
	tempLabel.Font = Enum.Font.GothamBold
	tempLabel.TextSize = 14
	tempLabel.Text = text
	
	-- –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —à–∏—Ä–∏–Ω—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ 8 –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ —Å–∏–º–≤–æ–ª)
	local textWidth = math.max(200, #text * 8 + 40)
	tempLabel:Destroy()
	
	-- –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
	local Notif = Instance.new("TextLabel")
	Notif.Text = text
	Notif.Size = UDim2.new(0, textWidth, 0, 40)
	Notif.Position = UDim2.new(0.5, -textWidth/2, 1, 0) -- –°—Ç–∞—Ä—Ç —Å–Ω–∏–∑—É
	Notif.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Notif.BackgroundTransparency = 0.5
	Notif.TextColor3 = Color3.fromRGB(255, 255, 255)
	Notif.Font = Enum.Font.GothamBold
	Notif.TextSize = 14
	Notif.TextWrapped = true
	Notif.Parent = ScreenGui
	
	local Corner = Instance.new("UICorner")
	Corner.CornerRadius = UDim.new(0, 8)
	Corner.Parent = Notif
	
	-- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
	TweenService:Create(Notif, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Position = UDim2.new(0.5, -textWidth/2, 1, -60)}):Play()
	
	task.delay(3, function()
		TweenService:Create(Notif, TweenInfo.new(0.5, Enum.EasingStyle.Quad), {Position = UDim2.new(0.5, -textWidth/2, 1, 0)}):Play()
		task.wait(0.5)
		Notif:Destroy()
	end)
end

function Library:CreateWindow(settings)
	local TitleText = settings.Title or "Frutiger Aero"
	local ThemeName = settings.Theme or "Light"
	local ToggleKey = settings.Key or Enum.KeyCode.M
	
	if ThemeName == "Dark" then CurrentTheme = Themes.Dark 
	elseif ThemeName == "Purple" then CurrentTheme = Themes.Purple
	else CurrentTheme = Themes.Light end
	CurrentThemeName = ThemeName

	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "AeroLib"
	ScreenGui.ResetOnSpawn = false
	-- –ü—ã—Ç–∞–µ–º—Å—è –∑–∞—Å—É–Ω—É—Ç—å –≤ CoreGui –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∏–Ω–∞—á–µ –≤ PlayerGui
	if pcall(function() ScreenGui.Parent = CoreGui end) then
	else ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui end
	
	-- –≠—Ñ—Ñ–µ–∫—Ç –±–ª—é—Ä–∞ (Global Acrylic)
	local Blur = Instance.new("BlurEffect")
	Blur.Name = "AeroBlur"
	Blur.Size = 0
	Blur.Parent = game:GetService("Lighting")
	
	-- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–ª—é—Ä–∞
	local function SetBlur(state)
		local targetSize = state and 24 or 0
		TweenService:Create(Blur, TweenInfo.new(0.5), {Size = targetSize}):Play()
	end
	
	SetBlur(false) -- –í–∫–ª—é—á–∞–µ–º —Å—Ä–∞–∑—É

	-- –ì–ª–∞–≤–Ω—ã–π –§—Ä–µ–π–º
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Size = UDim2.new(0, 550, 0, 400)
	MainFrame.Position = UDim2.new(0.5, -275, 0.5, -200)
	MainFrame.BackgroundColor3 = CurrentTheme.WindowEnd
	MainFrame.BackgroundTransparency = CurrentTheme.GlassTransparency
	MainFrame.ClipsDescendants = true
	MainFrame.Parent = ScreenGui
	
	local MainCorner = Instance.new("UICorner")
	MainCorner.CornerRadius = UDim.new(0, 12)
	MainCorner.Parent = MainFrame
	
	-- –ì—Ä–∞–¥–∏–µ–Ω—Ç —Ñ–æ–Ω–∞
	local MainGradient = Instance.new("UIGradient")
	MainGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, CurrentTheme.WindowStart),
		ColorSequenceKeypoint.new(1, CurrentTheme.WindowEnd)
	}
	MainGradient.Rotation = 90
	MainGradient.Parent = MainFrame
	
	-- –û–±–≤–æ–¥–∫–∞
	local Stroke = Instance.new("UIStroke")
	Stroke.Color = CurrentTheme.Stroke
	Stroke.Thickness = 2
	Stroke.Parent = MainFrame

	-- TopBar
	local TopBar = Instance.new("Frame")
	TopBar.Name = "TopBar"
	TopBar.Size = UDim2.new(1, 0, 0, 40)
	TopBar.BackgroundColor3 = CurrentTheme.HeaderStart
	TopBar.Parent = MainFrame
	
	local TopBarCorner = Instance.new("UICorner")
	TopBarCorner.CornerRadius = UDim.new(0, 12)
	TopBarCorner.Parent = TopBar
	
	-- –ü—Ä—è—á–µ–º –Ω–∏–∂–Ω–∏–µ —É–≥–ª—ã TopBar
	local HideBottom = Instance.new("Frame")
	HideBottom.Size = UDim2.new(1, 0, 0.5, 0)
	HideBottom.Position = UDim2.new(0, 0, 0.5, 0)
	HideBottom.BackgroundColor3 = CurrentTheme.HeaderEnd
	HideBottom.BorderSizePixel = 0
	HideBottom.Parent = TopBar

	local TopBarGradient = Instance.new("UIGradient")
	TopBarGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, CurrentTheme.HeaderStart),
		ColorSequenceKeypoint.new(1, CurrentTheme.HeaderEnd)
	}
	TopBarGradient.Rotation = 90
	TopBarGradient.Parent = TopBar
	
	AddGloss(TopBar)
	
	local Title = Instance.new("TextLabel")
	Title.Text = TitleText
	Title.Size = UDim2.new(1, -160, 1, 0) -- –£–º–µ–Ω—å—à–∏–ª —à–∏—Ä–∏–Ω—É –¥–ª—è –∫–Ω–æ–ø–æ–∫
	Title.Position = UDim2.new(0, 15, 0, 0)
	Title.BackgroundTransparency = 1
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 18
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.Parent = TopBar
	
	-- Text Shadow
	local TitleShadow = Title:Clone()
	TitleShadow.TextColor3 = Color3.new(0,0,0)
	TitleShadow.TextTransparency = 0.5
	TitleShadow.Position = UDim2.new(0, 16, 0, 1)
	TitleShadow.ZIndex = Title.ZIndex - 1
	TitleShadow.Parent = TopBar

	MakeDraggable(TopBar, MainFrame)
	
	-- === –ö–ù–û–ü–ö–ê –°–ú–ï–ù–´ –¢–ï–ú–´ (–ª–µ–≤–µ–µ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è) ===
	local ThemeBtn = Instance.new("TextButton")
	ThemeBtn.Size = UDim2.new(0, 30, 0, 30)
	ThemeBtn.Position = UDim2.new(1, -70, 0.5, -15) -- –°–ª–µ–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
	ThemeBtn.BackgroundColor3 = CurrentTheme.Accent
	ThemeBtn.BackgroundTransparency = 0.3
	ThemeBtn.Text = "üé®"
	ThemeBtn.Font = Enum.Font.GothamBold
	ThemeBtn.TextColor3 = Color3.new(1,1,1)
	ThemeBtn.TextSize = 14
	ThemeBtn.Parent = TopBar
	
	local ThemeCorner = Instance.new("UICorner")
	ThemeCorner.CornerRadius = UDim.new(0, 6)
	ThemeCorner.Parent = ThemeBtn
	
	-- === –ö–ù–û–ü–ö–ê –ó–ê–ö–†–´–¢–ò–Ø ===
	local CloseBtn = Instance.new("TextButton")
	CloseBtn.Size = UDim2.new(0, 30, 0, 30)
	CloseBtn.Position = UDim2.new(1, -35, 0.5, -15)
	CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	CloseBtn.BackgroundTransparency = 0.5
	CloseBtn.Text = "X"
	CloseBtn.Font = Enum.Font.GothamBold
	CloseBtn.TextColor3 = Color3.new(1,1,1)
	CloseBtn.TextSize = 14
	CloseBtn.Parent = TopBar
	
	local CloseCorner = Instance.new("UICorner")
	CloseCorner.CornerRadius = UDim.new(0, 6)
	CloseCorner.Parent = CloseBtn
	
	-- === –ü–õ–ê–í–ê–Æ–©–ê–Ø –ö–ù–û–ü–ö–ê –î–õ–Ø –û–¢–ö–†–´–¢–ò–Ø ===
	local OpenButton = Instance.new("TextButton")
	OpenButton.Name = "OpenButton"
	OpenButton.Size = UDim2.new(0, 50, 0, 50)
	OpenButton.Position = UDim2.new(0, 20, 0, 20)
	OpenButton.BackgroundColor3 = CurrentTheme.HeaderStart
	OpenButton.BackgroundTransparency = 0.3
	OpenButton.Text = "‚ò∞"
	OpenButton.TextColor3 = Color3.new(1, 1, 1)
	OpenButton.Font = Enum.Font.GothamBold
	OpenButton.TextSize = 20
	OpenButton.Visible = false -- –°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
	OpenButton.Parent = ScreenGui
	
	local OpenButtonCorner = Instance.new("UICorner")
	OpenButtonCorner.CornerRadius = UDim.new(0, 10)
	OpenButtonCorner.Parent = OpenButton
	
	local OpenButtonStroke = Instance.new("UIStroke")
	OpenButtonStroke.Color = CurrentTheme.Stroke
	OpenButtonStroke.Thickness = 2
	OpenButtonStroke.Parent = OpenButton
	
	AddGloss(OpenButton)
	
	-- –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫—É –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–π
	MakeDraggable(OpenButton, OpenButton)
	
	-- === –ö–ù–û–ü–ö–ê –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø (–≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É) ===
	local ResizeButton = Instance.new("TextButton")
	ResizeButton.Name = "ResizeButton"
	ResizeButton.Size = UDim2.new(0, 20, 0, 20)
	ResizeButton.Position = UDim2.new(1, -22, 1, -22)
	ResizeButton.BackgroundColor3 = CurrentTheme.Accent
	ResizeButton.BackgroundTransparency = 0.3
	ResizeButton.Text = "‚Üò"
	ResizeButton.TextColor3 = Color3.new(1, 1, 1)
	ResizeButton.Font = Enum.Font.GothamBold
	ResizeButton.TextSize = 12
	ResizeButton.Parent = MainFrame
	
	local ResizeCorner = Instance.new("UICorner")
	ResizeCorner.CornerRadius = UDim.new(0, 4)
	ResizeCorner.Parent = ResizeButton
	
	local isResizing = false
	local startSize = MainFrame.Size
	local startPos
	
	ResizeButton.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			isResizing = true
			startSize = MainFrame.Size
			startPos = input.Position
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if isResizing and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - startPos
			local newWidth = math.max(400, startSize.Width.Offset + delta.X)
			local newHeight = math.max(300, startSize.Height.Offset + delta.Y)
			
			MainFrame.Size = UDim2.new(0, newWidth, 0, newHeight)
		end
	end)
	
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			isResizing = false
		end
	end)
	
	-- === –õ–û–ì–ò–ö–ê –û–¢–ö–†–´–¢–ò–Ø/–ó–ê–ö–†–´–¢–ò–Ø ===
	local isOpen = true
	
	local function CloseUI()
		isOpen = false
		MainFrame.Visible = false
		OpenButton.Visible = true
		SetBlur(false)
		Library:Notify("–ù–∞–∂–º–∏ '"..ToggleKey.Name.."' –∏–ª–∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é")
	end
	
	local function OpenUI()
		isOpen = true
		MainFrame.Visible = true
		OpenButton.Visible = false
		SetBlur(true)
	end
	
	CloseBtn.MouseButton1Click:Connect(CloseUI)
	OpenButton.MouseButton1Click:Connect(OpenUI)
	
	-- –§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã —Ç–µ–º—ã
	local function ChangeTheme()
		local currentIndex = table.find(ThemeList, CurrentThemeName) or 1
		local nextIndex = currentIndex % #ThemeList + 1
		CurrentThemeName = ThemeList[nextIndex]
		CurrentTheme = Themes[CurrentThemeName]
		
		-- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Ü–≤–µ—Ç–∞
		MainFrame.BackgroundColor3 = CurrentTheme.WindowEnd
		MainGradient.Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, CurrentTheme.WindowStart),
			ColorSequenceKeypoint.new(1, CurrentTheme.WindowEnd)
		}
		Stroke.Color = CurrentTheme.Stroke
		
		-- TopBar
		TopBar.BackgroundColor3 = CurrentTheme.HeaderStart
		TopBarGradient.Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, CurrentTheme.HeaderStart),
			ColorSequenceKeypoint.new(1, CurrentTheme.HeaderEnd)
		}
		HideBottom.BackgroundColor3 = CurrentTheme.HeaderEnd
		
		-- –ö–Ω–æ–ø–∫–∏
		ThemeBtn.BackgroundColor3 = CurrentTheme.Accent
		ResizeButton.BackgroundColor3 = CurrentTheme.Accent
		OpenButton.BackgroundColor3 = CurrentTheme.HeaderStart
		OpenButtonStroke.Color = CurrentTheme.Stroke
		
		-- TabContainer
		if TabContainer then
			TabContainer.BackgroundColor3 = CurrentTheme == Themes.Light and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(0, 0, 0)
		end
		
		Library:Notify("–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: " .. CurrentThemeName)
	end
	
	ThemeBtn.MouseButton1Click:Connect(ChangeTheme)
	
	-- –ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞
	UserInputService.InputBegan:Connect(function(input, processed)
		if not processed and input.KeyCode == ToggleKey then
			if isOpen then
				CloseUI()
			else
				OpenUI()
			end
		end
	end)

	-- === –ö–û–ù–¢–ï–ù–¢ ===
	local TabContainer = Instance.new("ScrollingFrame")
	TabContainer.Size = UDim2.new(0, 130, 1, -55)
	TabContainer.Position = UDim2.new(0, 10, 0, 45)
	TabContainer.BackgroundTransparency = 0.6
	TabContainer.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	if CurrentTheme == Themes.Light then
		TabContainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	end
	TabContainer.BorderSizePixel = 0
	TabContainer.ScrollBarThickness = 0
	TabContainer.Parent = MainFrame
	
	local TabCorner = Instance.new("UICorner")
	TabCorner.CornerRadius = UDim.new(0, 8)
	TabCorner.Parent = TabContainer
	
	local TabList = Instance.new("UIListLayout")
	TabList.Padding = UDim.new(0, 5)
	TabList.SortOrder = Enum.SortOrder.LayoutOrder
	TabList.Parent = TabContainer
	
	local TabPad = Instance.new("UIPadding")
	TabPad.PaddingTop = UDim.new(0, 5)
	TabPad.PaddingLeft = UDim.new(0, 5)
	TabPad.Parent = TabContainer
	
	local PageContainer = Instance.new("Frame")
	PageContainer.Size = UDim2.new(1, -160, 1, -55)
	PageContainer.Position = UDim2.new(0, 150, 0, 45)
	PageContainer.BackgroundTransparency = 1
	PageContainer.Parent = MainFrame
	
	local PagesFolder = Instance.new("Folder")
	PagesFolder.Name = "Pages"
	PagesFolder.Parent = PageContainer

	-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
	local Window = {}
	
	function Window:Tab(name)
		local TabBtn = Instance.new("TextButton")
		TabBtn.Text = name
		TabBtn.Size = UDim2.new(1, -10, 0, 32)
		TabBtn.BackgroundColor3 = CurrentTheme.ElementBg
		TabBtn.BackgroundTransparency = 0.5
		TabBtn.TextColor3 = CurrentTheme.Text
		TabBtn.Font = Enum.Font.GothamSemibold
		TabBtn.TextSize = 14
		TabBtn.Parent = TabContainer
		
		local TabBtnCorner = Instance.new("UICorner")
		TabBtnCorner.CornerRadius = UDim.new(0, 6)
		TabBtnCorner.Parent = TabBtn
		
		local Page = Instance.new("ScrollingFrame")
		Page.Name = name
		Page.Size = UDim2.new(1, 0, 1, 0)
		Page.BackgroundTransparency = 1
		Page.ScrollBarThickness = 3
		Page.Visible = false
		Page.Parent = PagesFolder
		
		local PageLayout = Instance.new("UIListLayout")
		PageLayout.Padding = UDim.new(0, 8)
		PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
		PageLayout.Parent = Page
		
		local PagePad = Instance.new("UIPadding")
		PagePad.PaddingTop = UDim.new(0, 2)
		PagePad.PaddingRight = UDim.new(0, 5)
		PagePad.Parent = Page
		
		TabBtn.MouseButton1Click:Connect(function()
			for _, p in pairs(PagesFolder:GetChildren()) do p.Visible = false end
			Page.Visible = true
			
			for _, t in pairs(TabContainer:GetChildren()) do
				if t:IsA("TextButton") then
					TweenService:Create(t, TweenInfo.new(0.2), {BackgroundColor3 = CurrentTheme.ElementBg, TextColor3 = CurrentTheme.Text}):Play()
				end
			end
			TweenService:Create(TabBtn, TweenInfo.new(0.2), {BackgroundColor3 = CurrentTheme.HeaderStart, TextColor3 = Color3.new(1,1,1)}):Play()
		end)
		
		if #PagesFolder:GetChildren() == 1 then
			TabBtn.BackgroundColor3 = CurrentTheme.HeaderStart
			TabBtn.TextColor3 = Color3.new(1,1,1)
			Page.Visible = true
		end
		
		local Elements = {}
		
		function Elements:Button(text, callback)
			local Btn = Instance.new("TextButton")
			Btn.Size = UDim2.new(1, 0, 0, 35)
			Btn.BackgroundColor3 = CurrentTheme.ElementBg
			Btn.Text = text
			Btn.TextColor3 = CurrentTheme.Text
			Btn.Font = Enum.Font.Gotham
			Btn.TextSize = 14
			Btn.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Btn
			
			local Stroke = Instance.new("UIStroke")
			Stroke.Color = CurrentTheme.Stroke
			Stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			Stroke.Parent = Btn
			
			AddGloss(Btn)
			
			Btn.MouseButton1Click:Connect(function()
				callback()
				TweenService:Create(Btn, TweenInfo.new(0.1), {Size = UDim2.new(1, -4, 0, 31)}):Play()
				task.wait(0.1)
				TweenService:Create(Btn, TweenInfo.new(0.1), {Size = UDim2.new(1, 0, 0, 35)}):Play()
			end)
		end
		
		function Elements:Toggle(text, default, callback)
			local Frame = Instance.new("TextButton")
			Frame.Size = UDim2.new(1, 0, 0, 35)
			Frame.BackgroundColor3 = CurrentTheme.ElementBg
			Frame.Text = ""
			Frame.AutoButtonColor = false
			Frame.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Frame
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Size = UDim2.new(1, -40, 1, 0)
			Label.Position = UDim2.new(0, 10, 0, 0)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.TextColor3 = CurrentTheme.Text
			Label.Font = Enum.Font.Gotham
			Label.TextSize = 14
			Label.Parent = Frame
			
			local CheckBox = Instance.new("Frame")
			CheckBox.Size = UDim2.new(0, 20, 0, 20)
			CheckBox.Position = UDim2.new(1, -30, 0.5, -10)
			CheckBox.BackgroundColor3 = Color3.fromRGB(240,240,240)
			CheckBox.Parent = Frame
			
			local CheckCorner = Instance.new("UICorner")
			CheckCorner.CornerRadius = UDim.new(0, 4)
			CheckCorner.Parent = CheckBox
			
			local CheckIndicator = Instance.new("Frame")
			CheckIndicator.Size = UDim2.new(1, -6, 1, -6)
			CheckIndicator.Position = UDim2.new(0, 3, 0, 3)
			CheckIndicator.BackgroundColor3 = CurrentTheme.Accent
			CheckIndicator.BackgroundTransparency = default and 0 or 1
			CheckIndicator.Parent = CheckBox
			
			local IndCorner = Instance.new("UICorner")
			IndCorner.CornerRadius = UDim.new(0, 3)
			IndCorner.Parent = CheckIndicator
			
			local state = default
			
			Frame.MouseButton1Click:Connect(function()
				state = not state
				TweenService:Create(CheckIndicator, TweenInfo.new(0.2), {BackgroundTransparency = state and 0 or 1}):Play()
				callback(state)
			end)
		end
		
		function Elements:Slider(text, min, max, default, callback)
			local Frame = Instance.new("Frame")
			Frame.Size = UDim2.new(1, 0, 0, 50)
			Frame.BackgroundColor3 = CurrentTheme.ElementBg
			Frame.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Frame
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Position = UDim2.new(0, 10, 0, 5)
			Label.Size = UDim2.new(1, -50, 0, 20)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.TextColor3 = CurrentTheme.Text
			Label.Font = Enum.Font.Gotham
			Label.TextSize = 14
			Label.Parent = Frame
			
			local ValueLabel = Instance.new("TextLabel")
			ValueLabel.Text = tostring(default)
			ValueLabel.Position = UDim2.new(1, -40, 0, 5)
			ValueLabel.Size = UDim2.new(0, 30, 0, 20)
			ValueLabel.BackgroundTransparency = 1
			ValueLabel.TextColor3 = CurrentTheme.Accent
			ValueLabel.Font = Enum.Font.GothamBold
			ValueLabel.TextSize = 14
			ValueLabel.Parent = Frame
			
			local Track = Instance.new("TextButton")
			Track.Text = ""
			Track.Size = UDim2.new(1, -20, 0, 10)
			Track.Position = UDim2.new(0, 10, 0, 30)
			Track.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
			Track.AutoButtonColor = false
			Track.Parent = Frame
			
			local TrackCorner = Instance.new("UICorner")
			TrackCorner.CornerRadius = UDim.new(1, 0)
			TrackCorner.Parent = Track
			
			local Fill = Instance.new("Frame")
			Fill.Size = UDim2.new((default - min)/(max - min), 0, 1, 0)
			Fill.BackgroundColor3 = CurrentTheme.Accent
			Fill.Parent = Track
			
			local FillCorner = Instance.new("UICorner")
			FillCorner.CornerRadius = UDim.new(1, 0)
			FillCorner.Parent = Fill
			
			local isDragging = false
			
			local function Update(input)
				local pos = math.clamp((input.Position.X - Track.AbsolutePosition.X) / Track.AbsoluteSize.X, 0, 1)
				local val = math.floor(min + ((max - min) * pos))
				TweenService:Create(Fill, TweenInfo.new(0.1), {Size = UDim2.new(pos, 0, 1, 0)}):Play()
				ValueLabel.Text = tostring(val)
				callback(val)
			end
			
			Track.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					isDragging = true
					Update(input)
				end
			end)
			
			UserInputService.InputChanged:Connect(function(input)
				if isDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
					Update(input)
				end
			end)
			
			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					isDragging = false
				end
			end)
		end
		
		-- StringOption - —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞
		function Elements:StringOption(text, placeholder, default, callback)
			local Frame = Instance.new("Frame")
			Frame.Size = UDim2.new(1, 0, 0, 50)
			Frame.BackgroundColor3 = CurrentTheme.ElementBg
			Frame.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Frame
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Position = UDim2.new(0, 10, 0, 5)
			Label.Size = UDim2.new(1, -20, 0, 20)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.TextColor3 = CurrentTheme.Text
			Label.Font = Enum.Font.Gotham
			Label.TextSize = 14
			Label.Parent = Frame
			
			local TextBoxFrame = Instance.new("Frame")
			TextBoxFrame.Size = UDim2.new(1, -20, 0, 20)
			TextBoxFrame.Position = UDim2.new(0, 10, 0, 25)
			TextBoxFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
			if CurrentTheme == Themes.Dark then
				TextBoxFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
			end
			TextBoxFrame.Parent = Frame
			
			local TextBoxCorner = Instance.new("UICorner")
			TextBoxCorner.CornerRadius = UDim.new(0, 4)
			TextBoxCorner.Parent = TextBoxFrame
			
			local TextBox = Instance.new("TextBox")
			TextBox.Size = UDim2.new(1, -10, 1, 0)
			TextBox.Position = UDim2.new(0, 5, 0, 0)
			TextBox.BackgroundTransparency = 1
			TextBox.Text = default or ""
			TextBox.PlaceholderText = placeholder or "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."
			TextBox.TextColor3 = CurrentTheme.Text
			TextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
			TextBox.Font = Enum.Font.Gotham
			TextBox.TextSize = 14
			TextBox.TextXAlignment = Enum.TextXAlignment.Left
			TextBox.ClearTextOnFocus = false
			TextBox.Parent = TextBoxFrame
			
			local SubmitBtn = Instance.new("TextButton")
			SubmitBtn.Text = "‚úì"
			SubmitBtn.Size = UDim2.new(0, 25, 0, 20)
			SubmitBtn.Position = UDim2.new(1, -30, 0.5, -10)
			SubmitBtn.BackgroundColor3 = CurrentTheme.Accent
			SubmitBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
			SubmitBtn.Font = Enum.Font.GothamBold
			SubmitBtn.TextSize = 12
			SubmitBtn.Visible = false
			SubmitBtn.Parent = Frame
			
			local SubmitCorner = Instance.new("UICorner")
			SubmitCorner.CornerRadius = UDim.new(0, 4)
			SubmitCorner.Parent = SubmitBtn
			
			-- –§–æ–∫—É—Å –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
			TextBox.Focused:Connect(function()
				TweenService:Create(TextBoxFrame, TweenInfo.new(0.2), {
						BackgroundColor3 = Color3.fromRGB(220, 220, 230),
						Size = UDim2.new(1, -50, 0, 20)
				}):Play()
				SubmitBtn.Visible = true
			end)
			
			TextBox.FocusLost:Connect(function(enterPressed)
				TweenService:Create(TextBoxFrame, TweenInfo.new(0.2), {
						BackgroundColor3 = CurrentTheme == Themes.Dark and Color3.fromRGB(40, 40, 45) or Color3.fromRGB(240, 240, 240),
						Size = UDim2.new(1, -20, 0, 20)
				}):Play()
				SubmitBtn.Visible = false
				
				if enterPressed then
					callback(TextBox.Text)
				end
			end)
			
			-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
			SubmitBtn.MouseButton1Click:Connect(function()
				callback(TextBox.Text)
				TextBox:ReleaseFocus()
			end)
			
			-- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
			SubmitBtn.MouseButton1Down:Connect(function()
				TweenService:Create(SubmitBtn, TweenInfo.new(0.1), {Size = UDim2.new(0, 23, 0, 18)}):Play()
			end)
			
			SubmitBtn.MouseButton1Up:Connect(function()
				TweenService:Create(SubmitBtn, TweenInfo.new(0.1), {Size = UDim2.new(0, 25, 0, 20)}):Play()
			end)
		end
		
		-- ListSetting - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
		function Elements:ListSetting(text, options, default, callback)
			local Frame = Instance.new("Frame")
			Frame.Size = UDim2.new(1, 0, 0, 35 + (#options * 25))
			Frame.BackgroundColor3 = CurrentTheme.ElementBg
			Frame.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Frame
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Position = UDim2.new(0, 10, 0, 5)
			Label.Size = UDim2.new(1, -20, 0, 20)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.TextColor3 = CurrentTheme.Text
			Label.Font = Enum.Font.Gotham
			Label.TextSize = 14
			Label.Parent = Frame
			
			local OptionsFrame = Instance.new("Frame")
			OptionsFrame.Size = UDim2.new(1, -20, 0, #options * 25)
			OptionsFrame.Position = UDim2.new(0, 10, 0, 30)
			OptionsFrame.BackgroundTransparency = 1
			OptionsFrame.Parent = Frame
			
			local OptionsLayout = Instance.new("UIListLayout")
			OptionsLayout.Padding = UDim.new(0, 5)
			OptionsLayout.SortOrder = Enum.SortOrder.LayoutOrder
			OptionsLayout.Parent = OptionsFrame
			
			local selectedOptions = default or {}
			
			for i, option in pairs(options) do
				local OptionFrame = Instance.new("TextButton")
				OptionFrame.Size = UDim2.new(1, 0, 0, 20)
				OptionFrame.BackgroundTransparency = 1
				OptionFrame.Text = ""
				OptionFrame.AutoButtonColor = false
				OptionFrame.Parent = OptionsFrame
				
				local CheckBox = Instance.new("Frame")
				CheckBox.Size = UDim2.new(0, 15, 0, 15)
				CheckBox.Position = UDim2.new(0, 0, 0.5, -7.5)
				CheckBox.BackgroundColor3 = Color3.fromRGB(240,240,240)
				CheckBox.Parent = OptionFrame
				
				local CheckCorner = Instance.new("UICorner")
				CheckCorner.CornerRadius = UDim.new(0, 3)
				CheckCorner.Parent = CheckBox
				
				local CheckIndicator = Instance.new("Frame")
				CheckIndicator.Size = UDim2.new(1, -4, 1, -4)
				CheckIndicator.Position = UDim2.new(0, 2, 0, 2)
				CheckIndicator.BackgroundColor3 = CurrentTheme.Accent
				CheckIndicator.BackgroundTransparency = selectedOptions[option] and 0 or 1
				CheckIndicator.Parent = CheckBox
				
				local IndCorner = Instance.new("UICorner")
				IndCorner.CornerRadius = UDim.new(0, 2)
				IndCorner.Parent = CheckIndicator
				
				local OptionLabel = Instance.new("TextLabel")
				OptionLabel.Text = option
				OptionLabel.Size = UDim2.new(1, -25, 1, 0)
				OptionLabel.Position = UDim2.new(0, 20, 0, 0)
				OptionLabel.BackgroundTransparency = 1
				OptionLabel.TextXAlignment = Enum.TextXAlignment.Left
				OptionLabel.TextColor3 = CurrentTheme.Text
				OptionLabel.Font = Enum.Font.Gotham
				OptionLabel.TextSize = 12
				OptionLabel.Parent = OptionFrame
				
				OptionFrame.MouseButton1Click:Connect(function()
					selectedOptions[option] = not selectedOptions[option]
					TweenService:Create(CheckIndicator, TweenInfo.new(0.2), {
						BackgroundTransparency = selectedOptions[option] and 0 or 1
					}):Play()
					
					-- –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–∞–±–ª–∏—Ü—É –≤ –º–∞—Å—Å–∏–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π
					local selectedArray = {}
					for opt, isSelected in pairs(selectedOptions) do
						if isSelected then
							table.insert(selectedArray, opt)
						end
					end
					
					callback(selectedOptions, selectedArray)
				end)
			end
		end
		
		-- ModeSetting - –≤—ã–±–æ—Ä –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
		function Elements:ModeSetting(text, options, default, callback)
			local Frame = Instance.new("Frame")
			Frame.Size = UDim2.new(1, 0, 0, 35 + (#options * 25))
			Frame.BackgroundColor3 = CurrentTheme.ElementBg
			Frame.Parent = Page
			
			local Corner = Instance.new("UICorner")
			Corner.CornerRadius = UDim.new(0, 8)
			Corner.Parent = Frame
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Position = UDim2.new(0, 10, 0, 5)
			Label.Size = UDim2.new(1, -20, 0, 20)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.TextColor3 = CurrentTheme.Text
			Label.Font = Enum.Font.Gotham
			Label.TextSize = 14
			Label.Parent = Frame
			
			local OptionsFrame = Instance.new("Frame")
			OptionsFrame.Size = UDim2.new(1, -20, 0, #options * 25)
			OptionsFrame.Position = UDim2.new(0, 10, 0, 30)
			OptionsFrame.BackgroundTransparency = 1
			OptionsFrame.Parent = Frame
			
			local OptionsLayout = Instance.new("UIListLayout")
			OptionsLayout.Padding = UDim.new(0, 5)
			OptionsLayout.SortOrder = Enum.SortOrder.LayoutOrder
			OptionsLayout.Parent = OptionsFrame
			
			local selectedMode = default or options[1]
			local modeButtons = {}
			
			for i, option in pairs(options) do
				local OptionFrame = Instance.new("TextButton")
				OptionFrame.Size = UDim2.new(1, 0, 0, 20)
				OptionFrame.BackgroundTransparency = 1
				OptionFrame.Text = ""
				OptionFrame.AutoButtonColor = false
				OptionFrame.Parent = OptionsFrame
				
				local RadioOuter = Instance.new("Frame")
				RadioOuter.Size = UDim2.new(0, 15, 0, 15)
				RadioOuter.Position = UDim2.new(0, 0, 0.5, -7.5)
				RadioOuter.BackgroundColor3 = Color3.fromRGB(240,240,240)
				RadioOuter.Parent = OptionFrame
				
				local RadioCorner = Instance.new("UICorner")
				RadioCorner.CornerRadius = UDim.new(1, 0)
				RadioCorner.Parent = RadioOuter
				
				local RadioIndicator = Instance.new("Frame")
				RadioIndicator.Size = UDim2.new(0, 7, 0, 7)
				RadioIndicator.Position = UDim2.new(0.5, -3.5, 0.5, -3.5)
				RadioIndicator.BackgroundColor3 = CurrentTheme.Accent
				RadioIndicator.BackgroundTransparency = option == selectedMode and 0 or 1
				RadioIndicator.Parent = RadioOuter
				
				local RadioInnerCorner = Instance.new("UICorner")
				RadioInnerCorner.CornerRadius = UDim.new(1, 0)
				RadioInnerCorner.Parent = RadioIndicator
				
				local OptionLabel = Instance.new("TextLabel")
				OptionLabel.Text = option
				OptionLabel.Size = UDim2.new(1, -25, 1, 0)
				OptionLabel.Position = UDim2.new(0, 20, 0, 0)
				OptionLabel.BackgroundTransparency = 1
				OptionLabel.TextXAlignment = Enum.TextXAlignment.Left
				OptionLabel.TextColor3 = CurrentTheme.Text
				OptionLabel.Font = Enum.Font.Gotham
				OptionLabel.TextSize = 12
				OptionLabel.Parent = OptionFrame
				
				modeButtons[option] = {
					Frame = OptionFrame,
					Indicator = RadioIndicator
				}
				
				OptionFrame.MouseButton1Click:Connect(function()
					-- –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
					for mode, btnData in pairs(modeButtons) do
						TweenService:Create(btnData.Indicator, TweenInfo.new(0.2), {
							BackgroundTransparency = 1
						}):Play()
					end
					
					-- –í–∫–ª—é—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π
					selectedMode = option
					TweenService:Create(modeButtons[option].Indicator, TweenInfo.new(0.2), {
						BackgroundTransparency = 0
					}):Play()
					
					callback(selectedMode)
				end)
			end
		end
		
		return Elements
	end

	return Window
end

return Library
