-- Frutiger Aero UI Library V2
local Library = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")

-- === НАСТРОЙКИ ТЕМ ===
local Themes = {
	Light = {
		WindowStart = Color3.fromRGB(240, 248, 255),
		WindowEnd = Color3.fromRGB(176, 224, 230),
		HeaderStart = Color3.fromRGB(0, 191, 255),
		HeaderEnd = Color3.fromRGB(0, 100, 200),
		ElementBg = Color3.fromRGB(255, 255, 255),
		Text = Color3.fromRGB(20, 20, 20),
		Accent = Color3.fromRGB(50, 205, 50),
		GlossyWhite = Color3.fromRGB(255, 255, 255),
		Stroke = Color3.fromRGB(100, 150, 200)
	},
	Dark = {
		WindowStart = Color3.fromRGB(45, 45, 50),
		WindowEnd = Color3.fromRGB(20, 20, 25),
		HeaderStart = Color3.fromRGB(0, 80, 150),
		HeaderEnd = Color3.fromRGB(0, 40, 80),
		ElementBg = Color3.fromRGB(60, 60, 65),
		Text = Color3.fromRGB(240, 240, 240),
		Accent = Color3.fromRGB(0, 255, 127), -- Neon Spring Green
		GlossyWhite = Color3.fromRGB(150, 150, 150),
		Stroke = Color3.fromRGB(80, 80, 90)
	}
}

-- Текущая тема (по дефолту Light)
local CurrentTheme = Themes.Light

-- === ХЕЛПЕРЫ ===

local function AddGloss(instance)
	local Gloss = Instance.new("Frame")
	Gloss.Name = "Gloss"
	Gloss.Size = UDim2.new(1, 0, 0.5, 0)
	Gloss.Position = UDim2.new(0, 0, 0, 0)
	Gloss.BackgroundColor3 = CurrentTheme.GlossyWhite
	Gloss.BackgroundTransparency = 0.85
	Gloss.BorderSizePixel = 0
	Gloss.ZIndex = instance.ZIndex + 1
	
	local Corner = instance:FindFirstChildWhichIsA("UICorner")
	if Corner then
		local NewCorner = Corner:Clone()
		NewCorner.Parent = Gloss
	end
	
	Gloss.Parent = instance
	return Gloss
end

local function MakeDraggable(topbarobject, object)
	local Dragging = nil
	local DragInput = nil
	local DragStart = nil
	local StartPosition = nil

	topbarobject.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			Dragging = true
			DragStart = input.Position
			StartPosition = object.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)

	topbarobject.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			DragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == DragInput and Dragging then
			local Delta = input.Position - DragStart
			object.Position = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
		end
	end)
end

-- === ОСНОВНАЯ ФУНКЦИЯ ===

function Library:CreateWindow(config)
	config = config or {}
	local TitleText = config.Title or "Frutiger Aero"
	local SelectedTheme = config.Theme or "Light"
	local OpenKey = config.Key or Enum.KeyCode.M
	
	CurrentTheme = Themes[SelectedTheme] or Themes.Light

	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "AeroLib_V2"
	ScreenGui.Parent = game.CoreGui -- game.Players.LocalPlayer.PlayerGui
	
	-- Acrylic Blur Effect (В Lighting)
	local BlurEffect = Instance.new("BlurEffect")
	BlurEffect.Name = "AeroBlur"
	BlurEffect.Size = 0
	BlurEffect.Parent = Lighting
	
	-- Функция переключения размытия
	local function SetBlur(enabled)
		TweenService:Create(BlurEffect, TweenInfo.new(0.5), {Size = enabled and 24 or 0}):Play()
	end

	-- Главное окно
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Size = UDim2.new(0, 550, 0, 380)
	MainFrame.Position = UDim2.new(0.5, -275, 0.5, -190)
	MainFrame.BackgroundColor3 = CurrentTheme.WindowEnd
	MainFrame.BackgroundTransparency = 0.1 -- Немного прозрачности для "стекла"
	MainFrame.BorderSizePixel = 0
	MainFrame.Parent = ScreenGui
	
	SetBlur(true) -- Включаем блюр при старте
	
	-- Уведомление "Press M"
	local NotifyFrame = Instance.new("Frame")
	NotifyFrame.Size = UDim2.new(0, 200, 0, 40)
	NotifyFrame.Position = UDim2.new(0.5, -100, 1, 100) -- Спрятано внизу
	NotifyFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	NotifyFrame.BackgroundTransparency = 0.5
	NotifyFrame.Parent = ScreenGui
	
	local NotifyCorner = Instance.new("UICorner")
	NotifyCorner.CornerRadius = UDim.new(0, 8)
	NotifyCorner.Parent = NotifyFrame
	
	local NotifyText = Instance.new("TextLabel")
	NotifyText.Size = UDim2.new(1,0,1,0)
	NotifyText.BackgroundTransparency = 1
	
	-- БЕЗОПАСНАЯ ПРОВЕРКА ИМЕНИ КЛАВИШИ
	local KeyName = "M" -- Дефолт
	if typeof(OpenKey) == "EnumItem" then
		KeyName = OpenKey.Name
	elseif type(OpenKey) == "string" then
		KeyName = OpenKey
	end
	
	NotifyText.Text = "Нажми '".. KeyName .."' чтобы открыть"
	NotifyText.TextColor3 = Color3.fromRGB(255, 255, 255)
	NotifyText.Font = Enum.Font.GothamBold
	NotifyText.TextSize = 14
	NotifyText.Parent = NotifyFrame
	
	local function ToggleUI(state)
		if state then
			MainFrame.Visible = true
			MainFrame:TweenPosition(UDim2.new(0.5, -275, 0.5, -190), "Out", "Back", 0.3, true)
			NotifyFrame:TweenPosition(UDim2.new(0.5, -100, 1, 100), "In", "Quad", 0.3, true)
			SetBlur(true)
		else
			MainFrame:TweenPosition(UDim2.new(0.5, -275, 1, 200), "In", "Quad", 0.3, true, function()
				MainFrame.Visible = false
			end)
			NotifyFrame:TweenPosition(UDim2.new(0.5, -100, 0.9, -50), "Out", "Quad", 0.3, true)
			SetBlur(false)
		end
	end

	local MainCorner = Instance.new("UICorner")
	MainCorner.CornerRadius = UDim.new(0, 12)
	MainCorner.Parent = MainFrame
	
	local MainGradient = Instance.new("UIGradient")
	MainGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, CurrentTheme.WindowStart),
		ColorSequenceKeypoint.new(1, CurrentTheme.WindowEnd)
	}
	MainGradient.Rotation = 90
	MainGradient.Parent = MainFrame
	
	local Stroke = Instance.new("UIStroke")
	Stroke.Color = CurrentTheme.Stroke
	Stroke.Thickness = 2
	Stroke.Parent = MainFrame

	-- TopBar
	local TopBar = Instance.new("Frame")
	TopBar.Name = "TopBar"
	TopBar.Size = UDim2.new(1, 0, 0, 35)
	TopBar.BackgroundColor3 = CurrentTheme.HeaderStart
	TopBar.Parent = MainFrame
	
	local TopBarCorner = Instance.new("UICorner")
	TopBarCorner.CornerRadius = UDim.new(0, 12)
	TopBarCorner.Parent = TopBar
	
	local HideBottomCorner = Instance.new("Frame")
	HideBottomCorner.Size = UDim2.new(1, 0, 0.5, 0)
	HideBottomCorner.Position = UDim2.new(0, 0, 0.5, 0)
	HideBottomCorner.BackgroundColor3 = CurrentTheme.HeaderEnd
	HideBottomCorner.BorderSizePixel = 0
	HideBottomCorner.Parent = TopBar
	
	local TopBarGradient = Instance.new("UIGradient")
	TopBarGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, CurrentTheme.HeaderStart),
		ColorSequenceKeypoint.new(1, CurrentTheme.HeaderEnd)
	}
	TopBarGradient.Rotation = 90
	TopBarGradient.Parent = TopBar
	
	AddGloss(TopBar)
	MakeDraggable(TopBar, MainFrame)

	-- Заголовок
	local Title = Instance.new("TextLabel")
	Title.Text = TitleText
	Title.Size = UDim2.new(1, -100, 1, 0)
	Title.Position = UDim2.new(0, 12, 0, 0)
	Title.BackgroundTransparency = 1
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 16
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.Parent = TopBar
	
	-- Кнопки управления (Close / Minimize)
	local ButtonContainer = Instance.new("Frame")
	ButtonContainer.Size = UDim2.new(0, 60, 1, 0)
	ButtonContainer.Position = UDim2.new(1, -65, 0, 0)
	ButtonContainer.BackgroundTransparency = 1
	ButtonContainer.Parent = TopBar
	
	local CloseBtn = Instance.new("TextButton")
	CloseBtn.Text = "X"
	CloseBtn.Size = UDim2.new(0, 25, 0, 25)
	CloseBtn.Position = UDim2.new(1, -25, 0.5, -12.5)
	CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	CloseBtn.Font = Enum.Font.GothamBold
	CloseBtn.Parent = ButtonContainer
	Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0, 6)
	
	local MinBtn = Instance.new("TextButton")
	MinBtn.Text = "_"
	MinBtn.Size = UDim2.new(0, 25, 0, 25)
	MinBtn.Position = UDim2.new(1, -55, 0.5, -12.5)
	MinBtn.BackgroundColor3 = Color3.fromRGB(200, 150, 50)
	MinBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	MinBtn.Font = Enum.Font.GothamBold
	MinBtn.Parent = ButtonContainer
	Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(0, 6)

	-- Логика кнопок окна
	local Minimized = false
	local FullHeight = 380
	
	MinBtn.MouseButton1Click:Connect(function()
		Minimized = not Minimized
		if Minimized then
			TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 550, 0, 35)}):Play()
			Stroke.Enabled = false -- скрываем обводку снизу чтобы красивее было
		else
			TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 550, 0, FullHeight)}):Play()
			Stroke.Enabled = true
		end
	end)
	
	CloseBtn.MouseButton1Click:Connect(function()
		ToggleUI(false)
	end)
	
	-- Бинды
	UserInputService.InputBegan:Connect(function(input, processed)
		if input.KeyCode == OpenKey and not processed then
			ToggleUI(not MainFrame.Visible)
		end
	end)

	-- Контейнеры
	local TabContainer = Instance.new("ScrollingFrame")
	TabContainer.Size = UDim2.new(0, 130, 1, -45)
	TabContainer.Position = UDim2.new(0, 10, 0, 40)
	TabContainer.BackgroundTransparency = 0.5
	TabContainer.BackgroundColor3 = CurrentTheme.ElementBg
	TabContainer.BorderSizePixel = 0
	TabContainer.ScrollBarThickness = 0
	TabContainer.Parent = MainFrame
	Instance.new("UICorner", TabContainer).CornerRadius = UDim.new(0, 8)
	
	local TabListLayout = Instance.new("UIListLayout")
	TabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	TabListLayout.Padding = UDim.new(0, 5)
	TabListLayout.Parent = TabContainer
	
	local TabPadding = Instance.new("UIPadding")
	TabPadding.PaddingTop = UDim.new(0, 5)
	TabPadding.PaddingLeft = UDim.new(0, 5)
	TabPadding.Parent = TabContainer
	
	local PageContainer = Instance.new("Frame")
	PageContainer.Size = UDim2.new(1, -155, 1, -45)
	PageContainer.Position = UDim2.new(0, 145, 0, 40)
	PageContainer.BackgroundTransparency = 1
	PageContainer.Parent = MainFrame
	
	local PagesFolder = Instance.new("Folder")
	PagesFolder.Name = "Pages"
	PagesFolder.Parent = PageContainer

	-- === ФУНКЦИОНАЛ БИБЛИОТЕКИ ===
	local Window = {}

	function Window:Tab(name)
		local TabButton = Instance.new("TextButton")
		TabButton.Name = name
		TabButton.Size = UDim2.new(1, -10, 0, 30)
		TabButton.BackgroundColor3 = CurrentTheme.ElementBg
		TabButton.BackgroundTransparency = 0.2
		TabButton.Text = name
		TabButton.TextColor3 = CurrentTheme.Text
		TabButton.Font = Enum.Font.GothamSemibold
		TabButton.TextSize = 14
		TabButton.AutoButtonColor = false
		TabButton.Parent = TabContainer
		Instance.new("UICorner", TabButton).CornerRadius = UDim.new(0, 6)
		
		local Page = Instance.new("ScrollingFrame")
		Page.Name = name
		Page.Size = UDim2.new(1, 0, 1, 0)
		Page.BackgroundTransparency = 1
		Page.ScrollBarThickness = 4
		Page.ScrollBarImageColor3 = CurrentTheme.HeaderStart
		Page.Visible = false
		Page.Parent = PagesFolder
		
		local PageLayout = Instance.new("UIListLayout")
		PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
		PageLayout.Padding = UDim.new(0, 8)
		PageLayout.Parent = Page
		
		local PagePad = Instance.new("UIPadding")
		PagePad.PaddingTop = UDim.new(0, 5)
		PagePad.PaddingRight = UDim.new(0, 5)
		PagePad.PaddingLeft = UDim.new(0, 5)
		PagePad.Parent = Page
		
		TabButton.MouseButton1Click:Connect(function()
			for _, p in pairs(PagesFolder:GetChildren()) do p.Visible = false end
			Page.Visible = true
			
			for _, btn in pairs(TabContainer:GetChildren()) do
				if btn:IsA("TextButton") then
					TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = CurrentTheme.ElementBg, TextColor3 = CurrentTheme.Text}):Play()
				end
			end
			TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundColor3 = CurrentTheme.HeaderStart, TextColor3 = Color3.fromRGB(255,255,255)}):Play()
		end)
		
		if #PagesFolder:GetChildren() == 1 then
			TabButton.BackgroundColor3 = CurrentTheme.HeaderStart
			TabButton.TextColor3 = Color3.fromRGB(255,255,255)
			Page.Visible = true
		end

		local Elements = {}
		
		function Elements:Button(text, callback)
			local Btn = Instance.new("TextButton")
			Btn.Size = UDim2.new(1, 0, 0, 35)
			Btn.BackgroundColor3 = CurrentTheme.ElementBg
			Btn.Text = text
			Btn.TextColor3 = CurrentTheme.Text
			Btn.Font = Enum.Font.Gotham
			Btn.TextSize = 14
			Btn.Parent = Page
			Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 8)
			
			local BtnStroke = Instance.new("UIStroke")
			BtnStroke.Color = CurrentTheme.Stroke
			BtnStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			BtnStroke.Parent = Btn
			
			AddGloss(Btn)
			
			Btn.MouseButton1Click:Connect(function()
				callback()
				local t = TweenService:Create(Btn, TweenInfo.new(0.1), {Size = UDim2.new(1, -4, 0, 31)})
				t:Play()
				t.Completed:Wait()
				TweenService:Create(Btn, TweenInfo.new(0.1), {Size = UDim2.new(1, 0, 0, 35)}):Play()
			end)
		end
		
		function Elements:Toggle(text, default, callback)
			local ToggleFrame = Instance.new("TextButton")
			ToggleFrame.Size = UDim2.new(1, 0, 0, 35)
			ToggleFrame.BackgroundColor3 = CurrentTheme.ElementBg
			ToggleFrame.Text = ""
			ToggleFrame.AutoButtonColor = false
			ToggleFrame.Parent = Page
			Instance.new("UICorner", ToggleFrame).CornerRadius = UDim.new(0, 8)
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Size = UDim2.new(1, -50, 1, 0)
			Label.Position = UDim2.new(0, 10, 0, 0)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.Font = Enum.Font.Gotham
			Label.TextColor3 = CurrentTheme.Text
			Label.TextSize = 14
			Label.Parent = ToggleFrame
			
			local Box = Instance.new("Frame")
			Box.Size = UDim2.new(0, 20, 0, 20)
			Box.Position = UDim2.new(1, -30, 0.5, -10)
			Box.BackgroundColor3 = CurrentTheme.ElementBg
			Box.Parent = ToggleFrame
			Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 4)
			
			local BoxStroke = Instance.new("UIStroke")
			BoxStroke.Color = CurrentTheme.Stroke
			BoxStroke.Parent = Box
			
			local Check = Instance.new("Frame")
			Check.Size = UDim2.new(1, -4, 1, -4)
			Check.Position = UDim2.new(0, 2, 0, 2)
			Check.BackgroundColor3 = CurrentTheme.Accent
			Check.BackgroundTransparency = default and 0 or 1
			Check.Parent = Box
			Instance.new("UICorner", Check).CornerRadius = UDim.new(0, 3)
			
			-- Gloss effect inside check
			local CheckGrad = Instance.new("UIGradient")
			CheckGrad.Color = ColorSequence.new{
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255,255,255)),
				ColorSequenceKeypoint.new(1, CurrentTheme.Accent)
			}
			CheckGrad.Rotation = 90
			CheckGrad.Parent = Check
			
			local toggled = default
			ToggleFrame.MouseButton1Click:Connect(function()
				toggled = not toggled
				TweenService:Create(Check, TweenInfo.new(0.2), {BackgroundTransparency = toggled and 0 or 1}):Play()
				callback(toggled)
			end)
		end
		
		function Elements:Slider(text, min, max, default, callback)
			local SliderFrame = Instance.new("Frame")
			SliderFrame.Size = UDim2.new(1, 0, 0, 50)
			SliderFrame.BackgroundColor3 = CurrentTheme.ElementBg
			SliderFrame.Parent = Page
			Instance.new("UICorner", SliderFrame).CornerRadius = UDim.new(0, 8)
			
			local Label = Instance.new("TextLabel")
			Label.Text = text
			Label.Size = UDim2.new(1, 0, 0, 20)
			Label.Position = UDim2.new(0, 10, 0, 5)
			Label.BackgroundTransparency = 1
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.Font = Enum.Font.Gotham
			Label.TextColor3 = CurrentTheme.Text
			Label.TextSize = 14
			Label.Parent = SliderFrame
			
			local ValueLabel = Instance.new("TextLabel")
			ValueLabel.Text = tostring(default)
			ValueLabel.Size = UDim2.new(1, -20, 0, 20)
			ValueLabel.Position = UDim2.new(0, 0, 0, 5)
			ValueLabel.BackgroundTransparency = 1
			ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
			ValueLabel.Font = Enum.Font.GothamBold
			ValueLabel.TextColor3 = CurrentTheme.HeaderStart
			ValueLabel.TextSize = 14
			ValueLabel.Parent = SliderFrame
			
			local Track = Instance.new("TextButton")
			Track.Text = ""
			Track.AutoButtonColor = false
			Track.Size = UDim2.new(1, -20, 0, 10)
			Track.Position = UDim2.new(0, 10, 0, 30)
			Track.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
			Track.Parent = SliderFrame
			Instance.new("UICorner", Track).CornerRadius = UDim.new(1, 0)
			
			local Fill = Instance.new("Frame")
			Fill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
			Fill.BackgroundColor3 = CurrentTheme.HeaderStart
			Fill.Parent = Track
			Instance.new("UICorner", Fill).CornerRadius = UDim.new(1, 0)
			
			local Dragging = false
			local function UpdateSlider(input)
				local SizeX = math.clamp((input.Position.X - Track.AbsolutePosition.X) / Track.AbsoluteSize.X, 0, 1)
				local Value = math.floor(min + ((max - min) * SizeX))
				TweenService:Create(Fill, TweenInfo.new(0.1), {Size = UDim2.new(SizeX, 0, 1, 0)}):Play()
				ValueLabel.Text = tostring(Value)
				callback(Value)
			end
			
			Track.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					Dragging = true
					UpdateSlider(input)
				end
			end)
			
			UserInputService.InputChanged:Connect(function(input)
				if Dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
					UpdateSlider(input)
				end
			end)
			
			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					Dragging = false
				end
			end)
		end
		
		function Elements:Dropdown(text, list, callback)
			local DropdownFrame = Instance.new("Frame")
			DropdownFrame.Size = UDim2.new(1, 0, 0, 35)
			DropdownFrame.BackgroundColor3 = CurrentTheme.ElementBg
			DropdownFrame.ClipsDescendants = true
			DropdownFrame.Parent = Page
			Instance.new("UICorner", DropdownFrame).CornerRadius = UDim.new(0, 8)
			
			local HeaderBtn = Instance.new("TextButton")
			HeaderBtn.Size = UDim2.new(1, 0, 0, 35)
			HeaderBtn.BackgroundTransparency = 1
			HeaderBtn.Text = text
			HeaderBtn.Font = Enum.Font.Gotham
			HeaderBtn.TextSize = 14
			HeaderBtn.TextColor3 = CurrentTheme.Text
			HeaderBtn.TextXAlignment = Enum.TextXAlignment.Left
			HeaderBtn.Parent = DropdownFrame
			
			local Pad = Instance.new("UIPadding")
			Pad.PaddingLeft = UDim.new(0, 10)
			Pad.Parent = HeaderBtn
			
			local Icon = Instance.new("TextLabel")
			Icon.Text = "v"
			Icon.Size = UDim2.new(0, 30, 0, 35)
			Icon.Position = UDim2.new(1, -30, 0, 0)
			Icon.BackgroundTransparency = 1
			Icon.Font = Enum.Font.GothamBold
			Icon.TextColor3 = CurrentTheme.Text
			Icon.Parent = DropdownFrame
			
			local ListFrame = Instance.new("ScrollingFrame")
			ListFrame.Size = UDim2.new(1, -10, 0, 100)
			ListFrame.Position = UDim2.new(0, 5, 0, 40)
			ListFrame.BackgroundTransparency = 1
			ListFrame.ScrollBarThickness = 2
			ListFrame.Parent = DropdownFrame
			
			local ListLayout = Instance.new("UIListLayout")
			ListLayout.Padding = UDim.new(0, 2)
			ListLayout.Parent = ListFrame
			
			for _, item in pairs(list) do
				local ItemBtn = Instance.new("TextButton")
				ItemBtn.Size = UDim2.new(1, 0, 0, 25)
				ItemBtn.BackgroundColor3 = CurrentTheme.ElementBg
				ItemBtn.BackgroundTransparency = 0.5
				ItemBtn.Text = item
				ItemBtn.Font = Enum.Font.Gotham
				ItemBtn.TextColor3 = CurrentTheme.Text
				ItemBtn.TextSize = 13
				ItemBtn.Parent = ListFrame
				Instance.new("UICorner", ItemBtn).CornerRadius = UDim.new(0, 4)
				
				ItemBtn.MouseButton1Click:Connect(function()
					HeaderBtn.Text = text .. ": " .. item
					callback(item)
					TweenService:Create(DropdownFrame, TweenInfo.new(0.3), {Size = UDim2.new(1, 0, 0, 35)}):Play()
					TweenService:Create(Icon, TweenInfo.new(0.3), {Rotation = 0}):Play()
				end)
			end
			
			local open = false
			HeaderBtn.MouseButton1Click:Connect(function()
				open = not open
				if open then
					TweenService:Create(DropdownFrame, TweenInfo.new(0.3), {Size = UDim2.new(1, 0, 0, 150)}):Play()
					TweenService:Create(Icon, TweenInfo.new(0.3), {Rotation = 180}):Play()
				else
					TweenService:Create(DropdownFrame, TweenInfo.new(0.3), {Size = UDim2.new(1, 0, 0, 35)}):Play()
					TweenService:Create(Icon, TweenInfo.new(0.3), {Rotation = 0}):Play()
				end
			end)
		end

		return Elements
	end

	return Window
end

return Library
